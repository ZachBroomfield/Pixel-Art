var Yt=Object.defineProperty;var Jt=(n,e,t)=>e in n?Yt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var C=(n,e,t)=>(Jt(n,typeof e!="symbol"?e+"":e,t),t),Ue=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var h=(n,e,t)=>(Ue(n,e,"read from private field"),t?t.call(n):e.get(n)),g=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},$=(n,e,t,r)=>(Ue(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var v=(n,e,t)=>(Ue(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function N(){}function yt(n){return n()}function pt(){return Object.create(null)}function de(n){n.forEach(yt)}function Qt(n){return typeof n=="function"}function G(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let me;function Zt(n,e){return me||(me=document.createElement("a")),me.href=e,n===me.href}function Vt(n){return Object.keys(n).length===0}function w(n,e){n.appendChild(e)}function ee(n,e,t){n.insertBefore(e,t||null)}function Y(n){n.parentNode.removeChild(n)}function b(n){return document.createElement(n)}function xe(n){return document.createTextNode(n)}function z(){return xe(" ")}function ve(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function p(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Xe(n){return n===""?null:+n}function Gt(n){return Array.from(n.childNodes)}function bt(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function _e(n,e){n.value=e==null?"":e}function wt(n,e,t){n.classList[t?"add":"remove"](e)}function en(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(n,t,r,e),o}let se;function oe(n){se=n}function xt(){if(!se)throw new Error("Function called outside component initialization");return se}function tn(n){xt().$$.on_mount.push(n)}function nn(){const n=xt();return(e,t,{cancelable:r=!1}={})=>{const o=n.$$.callbacks[e];if(o){const s=en(e,t,{cancelable:r});return o.slice().forEach(i=>{i.call(n,s)}),!s.defaultPrevented}return!0}}function rn(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const re=[],L=[],ye=[],Ye=[],on=Promise.resolve();let Je=!1;function sn(){Je||(Je=!0,on.then($t))}function Qe(n){ye.push(n)}function H(n){Ye.push(n)}const We=new Set;let pe=0;function $t(){const n=se;do{for(;pe<re.length;){const e=re[pe];pe++,oe(e),ln(e.$$)}for(oe(null),re.length=0,pe=0;L.length;)L.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];We.has(t)||(We.add(t),t())}ye.length=0}while(re.length);for(;Ye.length;)Ye.pop()();Je=!1,We.clear(),oe(n)}function ln(n){if(n.fragment!==null){n.update(),de(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Qe)}}const be=new Set;let un;function M(n,e){n&&n.i&&(be.delete(n),n.i(e))}function A(n,e,t,r){if(n&&n.o){if(be.has(n))return;be.add(n),un.c.push(()=>{be.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function R(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function q(n){n&&n.c()}function I(n,e,t,r){const{fragment:o,on_mount:s,on_destroy:i,after_update:l}=n.$$;o&&o.m(e,t),r||Qe(()=>{const u=s.map(yt).filter(Qt);i?i.push(...u):de(u),n.$$.on_mount=[]}),l.forEach(Qe)}function T(n,e){const t=n.$$;t.fragment!==null&&(de(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function cn(n,e){n.$$.dirty[0]===-1&&(re.push(n),sn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function te(n,e,t,r,o,s,i,l=[-1]){const u=se;oe(n);const c=n.$$={fragment:null,ctx:null,props:s,update:N,not_equal:o,bound:pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:pt(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};i&&i(c.root);let d=!1;if(c.ctx=t?t(n,e.props||{},(y,x,..._)=>{const m=_.length?_[0]:x;return c.ctx&&o(c.ctx[y],c.ctx[y]=m)&&(!c.skip_bound&&c.bound[y]&&c.bound[y](m),d&&cn(n,y)),x}):[],c.update(),d=!0,de(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const y=Gt(e.target);c.fragment&&c.fragment.l(y),y.forEach(Y)}else c.fragment&&c.fragment.c();e.intro&&M(n.$$.fragment),I(n,e.target,e.anchor,e.customElement),$t()}oe(u)}class ne{$destroy(){T(this,1),this.$destroy=N}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class k{constructor(e,t){C(this,"x");C(this,"y");if(typeof e=="object")this.x=e.x,this.y=e.y;else if(typeof e=="number"&&t)this.x=e,this.y=t;else throw new Error("Incorrect Vector2D parameters provided")}add(e){return this.x+=e.x,this.y+=e.y,this}sub(e){return this.x-=e.x,this.y-=e.y,this}mult(e){return this.x*=e,this.y*=e,this}mag(){return Math.sqrt(this.x**2+this.y**2)}magSqr(){return this.x**2+this.y**2}same(e){return this.x===e.x&&this.y===e.y}copy(){return new k(this.x,this.y)}static add(e,t){return new k({x:e.x+t.x,y:e.y+t.y})}static sub(e,t){return new k({x:e.x-t.x,y:e.y-t.y})}static mult(e,t){return new k({x:e.x*t,y:e.y*t})}static negative(e){return new k({x:-e.x,y:-e.y})}static copy(e){return new k({x:e.x,y:e.y})}}var P,Q,$e,kt;class an{constructor(e){g(this,$e);g(this,P,void 0);g(this,Q,void 0);$(this,P,document.getElementById(e.id)),$(this,Q,h(this,P).getContext("2d")),v(this,$e,kt).call(this,{width:e.size.width,height:e.size.height})}getCtx(){return h(this,Q)}getMidPoint(){return new k({x:h(this,P).width/2,y:h(this,P).height/2})}getSize(){return{width:h(this,P).width,height:h(this,P).height}}clear(){h(this,Q).clearRect(0,0,h(this,P).width,h(this,P).height)}}P=new WeakMap,Q=new WeakMap,$e=new WeakSet,kt=function(e){h(this,P).height=e.height,h(this,P).width=e.width};var ie,Z,le,K,ke,Ct;class fn{constructor(e){g(this,ke);g(this,ie,void 0);g(this,Z,void 0);g(this,le,void 0);g(this,K,void 0);C(this,"coordToPosition");C(this,"positionToCoord");$(this,ie,e.dimensions),$(this,Z,e.topLeft),$(this,le,e.gridLines),$(this,K,e.spacing),this.coordToPosition=e.coordToPosition,this.positionToCoord=e.positionToCoord}drawLines(e){v(this,ke,Ct).call(this,e)}getDimensions(){return h(this,ie)}getDrawArea(e,t){return{topLeft:{x:h(this,Z).x+e*h(this,K)+1,y:h(this,Z).y+t*h(this,K)+1},sideLength:h(this,K)-2}}}ie=new WeakMap,Z=new WeakMap,le=new WeakMap,K=new WeakMap,ke=new WeakSet,Ct=function(e){e.strokeStyle="gray",e.lineWidth=1,h(this,le).forEach(t=>{const r=t.get();e.beginPath(),e.moveTo(r.start.x,r.start.y),e.lineTo(r.end.x,r.end.y),e.stroke()})};var ue,ce;class vt{constructor(e){g(this,ue,void 0);g(this,ce,void 0);$(this,ue,new k(e.start)),$(this,ce,new k(e.end))}get(){return{start:h(this,ue),end:h(this,ce)}}}ue=new WeakMap,ce=new WeakMap;var Ce,Pt,Pe,Et,Ee,St,Se,Mt,Me,It,Ie,Tt,Te,zt,ze,Lt,Le,Nt,Ne,At,Ae,qt;class S{static create(e){return v(this,Ce,Pt).call(this,e.dimensions,e.canvasSize)}}Ce=new WeakSet,Pt=function(e,t){e=v(this,Me,It).call(this,e);const r=v(this,Ie,Tt).call(this,t),o=v(this,Te,zt).call(this,e,t),s=v(this,ze,Lt).call(this,e,o,r,t),i=v(this,Le,Nt).call(this,e,o,s),l=v(this,Pe,Et).call(this,o,s),u=v(this,Ee,St).call(this,o,s,e);return new fn({dimensions:e,topLeft:s,gridLines:i,spacing:o,coordToPosition:l,positionToCoord:u})},Pe=new WeakSet,Et=function(e,t){const r=e/2;return o=>({x:t.x+r+e*(o.x-1),y:t.y+r+e*(o.y-1)})},Ee=new WeakSet,St=function(e,t,r){return o=>v(this,Se,Mt).call(this,o,t,r,e)?{x:Math.ceil((o.x-t.x)/e),y:Math.ceil((o.y-t.y)/e)}:null},Se=new WeakSet,Mt=function(e,t,r,o){return e.x>t.x&&e.y>t.y&&e.x<t.x+r.cols*o&&e.y<t.y+r.rows*o},Me=new WeakSet,It=function(e){return{cols:Math.min(e.cols,300),rows:Math.min(e.rows,180)}},Ie=new WeakSet,Tt=function(e){return new k(e.width/2,e.height/2)},Te=new WeakSet,zt=function(e,t,r=.99){const o=Math.ceil(t.width*r),s=Math.ceil(t.height*r),i=Math.ceil((o-e.cols)/e.cols),l=Math.ceil((s-e.rows)/e.rows);return Math.min(i,l)},ze=new WeakSet,Lt=function(e,t,r,o){const s=Math.max(Math.round(r.x-e.cols*t/2),Math.round(o.width-100-e.cols*t));return new k({x:s,y:Math.round(r.y-e.rows*t/2)})},Le=new WeakSet,Nt=function(e,t,r){const o=[],s=v(this,Ae,qt).call(this,e,t),i=v(this,Ne,At).call(this,e,t);for(let l=0;l<=e.cols;l++)o.push(new vt({start:new k({x:r.x+l*t,y:r.y}),end:new k({x:r.x+l*t,y:r.y+s})}));for(let l=0;l<=e.rows;l++)o.push(new vt({start:new k({x:r.x,y:r.y+l*t}),end:new k({x:r.x+i,y:r.y+l*t})}));return o},Ne=new WeakSet,At=function(e,t){return e.cols*t},Ae=new WeakSet,qt=function(e,t){return e.rows*t},g(S,Ce),g(S,Pe),g(S,Ee),g(S,Se),g(S,Me),g(S,Ie),g(S,Te),g(S,ze),g(S,Le),g(S,Ne),g(S,Ae);var X,U,qe,Dt;class hn{constructor(e,t){g(this,qe);g(this,X,void 0);g(this,U,void 0);$(this,X,new Array(e.cols*e.rows)),$(this,U,e),v(this,qe,Dt).call(this,t)}get(e,t){return h(this,X)[e+t*h(this,U).cols]}set(e,t,r){h(this,X)[e+t*h(this,U).cols]=r}}X=new WeakMap,U=new WeakMap,qe=new WeakSet,Dt=function(e){for(let t=0;t<h(this,U).cols*h(this,U).rows;t++)h(this,X)[t]=e};class Fe{constructor(e,t,r,o=255){C(this,"r");C(this,"g");C(this,"b");C(this,"a");this.r=e,this.g=t,this.b=r,this.a=o}}var V,W,B,De,jt,ae,Ze,fe,Ve,je,Ot,he,Ge;class dn{constructor(e){g(this,De);g(this,ae);g(this,fe);g(this,je);g(this,he);C(this,"cols");C(this,"rows");C(this,"values");g(this,V,void 0);g(this,W,void 0);g(this,B,void 0);this.cols=e.size.cols,this.rows=e.size.rows,this.values=new hn(e.size,new Fe(0,0,0,0)),$(this,V,e.grid),$(this,W,[]),$(this,B,null);for(let t=0;t<this.cols;t++)for(let r=0;r<this.rows;r++)h(this,W).push({x:t,y:r})}getColour(e,t){return this.values.get(e,t)}getColourFromMouse(e){const t=v(this,fe,Ve).call(this,e);return t!==null?this.getColour(t.x-1,t.y-1):null}getLength(){return this.cols*this.rows}drawChanged(e){h(this,W).forEach(t=>{const{topLeft:r,sideLength:o}=h(this,V).getDrawArea(t.x,t.y);let s=this.getColour(t.x,t.y);s.a===0?v(this,je,Ot).call(this,e,r,o):v(this,he,Ge).call(this,e,r,o,`rgba(${s.r}, ${s.g}, ${s.b}, ${s.a})`)}),h(this,W).length=0}editPixels(e,t){const r=v(this,fe,Ve).call(this,e);let o=t.colour;if(r!==null){if(t.lock){const s=this.getColour(r.x-1,r.y-1);if(s.a!==0&&(o.a!==0||!v(this,De,jt).call(this,s,o)))return}if(h(this,B)!==null&&r.x===h(this,B).x&&r.y===h(this,B).y)return;if(o.a===0)v(this,ae,Ze).call(this,r.x,r.y,new Fe(0,0,0,0));else{const s=new Fe(o.r,o.g,o.b,o.a);v(this,ae,Ze).call(this,r.x,r.y,s)}}$(this,B,r)}resetLastPixel(){$(this,B,null)}}V=new WeakMap,W=new WeakMap,B=new WeakMap,De=new WeakSet,jt=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b},ae=new WeakSet,Ze=function(e,t,r){this.values.set(e-1,t-1,r),h(this,W).push({x:e-1,y:t-1})},fe=new WeakSet,Ve=function(e){return h(this,V).positionToCoord(e)},je=new WeakSet,Ot=function(e,t,r){r=r/2;let o=t.x,s=t.y;for(let i=0;i<2;i++){for(let l=0;l<2;l++)v(this,he,Ge).call(this,e,{x:o,y:s},r,(i+l)%2===0?"#D3D3D3":"#FFFFFF"),o+=r;o=t.x,s+=r}},he=new WeakSet,Ge=function(e,t,r,o){e.beginPath(),e.fillStyle=o,e.fillRect(t.x,t.y,r,r),e.stroke()};class gn{constructor(e){C(this,"mouse");C(this,"scale");this.mouse={x:0,y:0,click:!1},this.scale=e}updateMousePosition(e){this.mouse.x=e.clientX+document.documentElement.scrollLeft,this.mouse.y=e.clientY+document.documentElement.scrollTop}}var Oe,Bt,Be,Ht;class et{static fromPixels(e,t){const r=v(this,Oe,Bt).call(this,e,t),o=v(this,Be,Ht).call(this,e.cols,e.rows,t),s=o.getContext("2d");let i=s.createImageData(e.cols*t,e.rows*t);i.data.set(r),s.putImageData(i,0,0);const l=o.toDataURL();{let u=document.createElement("a");u.download="image.png",u.href=l,document.body.appendChild(u),u.click(),document.body.removeChild(u)}}}Oe=new WeakSet,Bt=function(e,t){const r=new Uint8Array(e.getLength()*4*t*t);for(let o=0;o<e.cols;o++)for(let s=0;s<e.rows;s++){const i=e.getColour(o,s),l={x:o*t,y:s*t};for(let u=0;u<t;u++)for(let c=0;c<t;c++){const d=(l.x+u+(l.y+c)*e.cols*t)*4;i!==null&&(r[d]=i.r,r[d+1]=i.g,r[d+2]=i.b,r[d+3]=i.a)}}return r},Be=new WeakSet,Ht=function(e,t,r){const o=document.createElement("canvas");return o.width=e*r,o.height=t*r,o},g(et,Oe),g(et,Be);function mn(n,e){addEventListener("mousedown",t=>{n.updateMousePosition(t),t.button===0&&(n.mouse.click=!0)}),addEventListener("mouseup",t=>{n.updateMousePosition(t),t.button===0&&(n.mouse.click=!1,e.resetLastPixel())}),addEventListener("mousemove",t=>{n.updateMousePosition(t)})}function _n(n){let e;return{c(){e=b("canvas"),p(e,"id","canvas"),p(e,"class","svelte-a5oyf8")},m(t,r){ee(t,e,r)},p:N,i:N,o:N,d(t){t&&Y(e)}}}function pn(n,e,t){let{canvasSize:r}=e,{colourSelect:o}=e,s,i;tn(()=>{const u=new an({size:r,id:"canvas"}),c={cols:32,rows:32};s=new gn(20);const d=S.create({dimensions:c,canvasSize:u.getSize()});i=new dn({size:c,grid:d});function y(){u.clear(),d.drawLines(u.getCtx())}function x(){if(s.mouse.click)if(o.dropper){const _=i.getColourFromMouse(s.mouse);_!==null&&_.a!==0&&(t(0,o.colour=_,o),t(0,o.dropper=!1,o)),s.mouse.click=!1}else i.editPixels(s.mouse,o);i.drawChanged(u.getCtx()),requestAnimationFrame(x)}mn(s,i),y(),x()});function l(){et.fromPixels(i,s.scale)}return n.$$set=u=>{"canvasSize"in u&&t(1,r=u.canvasSize),"colourSelect"in u&&t(0,o=u.colourSelect)},[o,r,l]}class wn extends ne{constructor(e){super(),te(this,e,pn,_n,G,{canvasSize:1,colourSelect:0,createImage:2})}get createImage(){return this.$$.ctx[2]}}function vn(n){let e,t,r,o,s,i,l,u,c,d,y,x;return{c(){e=b("div"),t=b("label"),r=b("span"),o=b("span"),s=xe(n[1]),i=xe(":"),l=z(),u=b("input"),c=z(),d=b("input"),p(o,"class","text-xl ml-2"),p(u,"type","range"),p(u,"min","0"),p(u,"max","255"),p(u,"class","svelte-1w57o91"),p(d,"type","number"),p(d,"min","0"),p(d,"max","255"),p(d,"class","inputNumber svelte-1w57o91"),p(r,"class","flex items-center w-0")},m(_,m){ee(_,e,m),w(e,t),w(t,r),w(r,o),w(o,s),w(o,i),w(r,l),w(r,u),_e(u,n[0]),w(r,c),w(r,d),_e(d,n[0]),y||(x=[ve(u,"change",n[2]),ve(u,"input",n[2]),ve(d,"input",n[3])],y=!0)},p(_,[m]){m&2&&bt(s,_[1]),m&1&&_e(u,_[0]),m&1&&Xe(d.value)!==_[0]&&_e(d,_[0])},i:N,o:N,d(_){_&&Y(e),y=!1,de(x)}}}function yn(n,e,t){let{value:r}=e,{name:o}=e;function s(){r=Xe(this.value),t(0,r)}function i(){r=Xe(this.value),t(0,r)}return n.$$set=l=>{"value"in l&&t(0,r=l.value),"name"in l&&t(1,o=l.name)},[r,o,s,i]}class Ke extends ne{constructor(e){super(),te(this,e,yn,vn,G,{value:0,name:1})}}function bn(n){let e,t,r,o;return{c(){e=b("button"),t=xe(n[0]),p(e,"class","btn btn-lg"),wt(e,"btn-primary",n[1])},m(s,i){ee(s,e,i),w(e,t),r||(o=ve(e,"click",n[2]),r=!0)},p(s,[i]){i&1&&bt(t,s[0]),i&2&&wt(e,"btn-primary",s[1])},i:N,o:N,d(s){s&&Y(e),r=!1,o()}}}function xn(n,e,t){let{messageName:r}=e,{text:o}=e,{active:s}=e;const i=nn();function l(){i(r)}return n.$$set=u=>{"messageName"in u&&t(3,r=u.messageName),"text"in u&&t(0,o=u.text),"active"in u&&t(1,s=u.active)},[o,s,l,r]}class we extends ne{constructor(e){super(),te(this,e,xn,bn,G,{messageName:3,text:0,active:1})}}function $n(n){let e,t,r,o,s,i;return{c(){e=b("div"),t=b("img"),o=z(),s=b("div"),p(t,"class","child rounded-lg border m-1 svelte-20zaem"),Zt(t.src,r="transparent.png")||p(t,"src",r),p(t,"alt","erase"),p(s,"class","child rounded-lg border m-1 svelte-20zaem"),p(s,"style",i=`background-color: 
      rgba(${n[0].r}, ${n[0].g}, ${n[0].b}, ${n[0].a})`),p(e,"class","parent w-14 h-14 rounded-lg mx-auto svelte-20zaem")},m(l,u){ee(l,e,u),w(e,t),w(e,o),w(e,s)},p(l,[u]){u&1&&i!==(i=`background-color: 
      rgba(${l[0].r}, ${l[0].g}, ${l[0].b}, ${l[0].a})`)&&p(s,"style",i)},i:N,o:N,d(l){l&&Y(e)}}}function kn(n,e,t){let{colour:r}=e;return n.$$set=o=>{"colour"in o&&t(0,r=o.colour)},[r]}class Cn extends ne{constructor(e){super(),te(this,e,kn,$n,G,{colour:0})}}function Pn(n){let e,t,r,o,s,i,l,u,c,d,y,x,_,m,f,E,J,tt,D,He,nt,j,Re,rt,F,ge;function Rt(a){n[5](a)}let ot={name:"R"};n[0].colour.r!==void 0&&(ot.value=n[0].colour.r),r=new Ke({props:ot}),L.push(()=>R(r,"value",Rt));function Ut(a){n[6](a)}let st={name:"G"};n[0].colour.g!==void 0&&(st.value=n[0].colour.g),i=new Ke({props:st}),L.push(()=>R(i,"value",Ut));function Wt(a){n[7](a)}let it={name:"B"};n[0].colour.b!==void 0&&(it.value=n[0].colour.b),c=new Ke({props:it}),L.push(()=>R(c,"value",Wt)),_=new Cn({props:{colour:n[0].colour}});function Ft(a){n[8](a)}let lt={messageName:"eraser",text:"Eraser"};n[1]!==void 0&&(lt.active=n[1]),E=new we({props:lt}),L.push(()=>R(E,"active",Ft)),E.$on("eraser",n[2]);function Kt(a){n[9](a)}let ut={messageName:"select",text:"Colour Dropper"};n[0].dropper!==void 0&&(ut.active=n[0].dropper),D=new we({props:ut}),L.push(()=>R(D,"active",Kt)),D.$on("select",n[3]);function Xt(a){n[10](a)}let ct={messageName:"lock",text:"Lock other colours"};return n[0].lock!==void 0&&(ct.active=n[0].lock),j=new we({props:ct}),L.push(()=>R(j,"active",Xt)),j.$on("lock",n[4]),F=new we({props:{messageName:"createImage",text:"Download Image",active:!1}}),F.$on("createImage",n[11]),{c(){e=b("div"),t=b("div"),q(r.$$.fragment),s=z(),q(i.$$.fragment),u=z(),q(c.$$.fragment),y=z(),x=b("div"),q(_.$$.fragment),m=z(),f=b("div"),q(E.$$.fragment),tt=z(),q(D.$$.fragment),nt=z(),q(j.$$.fragment),rt=z(),q(F.$$.fragment),p(t,"class"," svelte-1xg68hw"),p(x,"class"," svelte-1xg68hw"),p(f,"class","my-4 ml-4 btn-group btn-group-vertical svelte-1xg68hw"),p(e,"class","min-w-min max-w-min svelte-1xg68hw")},m(a,O){ee(a,e,O),w(e,t),I(r,t,null),w(t,s),I(i,t,null),w(t,u),I(c,t,null),w(e,y),w(e,x),I(_,x,null),w(e,m),w(e,f),I(E,f,null),w(f,tt),I(D,f,null),w(f,nt),I(j,f,null),w(f,rt),I(F,f,null),ge=!0},p(a,[O]){const at={};!o&&O&1&&(o=!0,at.value=a[0].colour.r,H(()=>o=!1)),r.$set(at);const ft={};!l&&O&1&&(l=!0,ft.value=a[0].colour.g,H(()=>l=!1)),i.$set(ft);const ht={};!d&&O&1&&(d=!0,ht.value=a[0].colour.b,H(()=>d=!1)),c.$set(ht);const dt={};O&1&&(dt.colour=a[0].colour),_.$set(dt);const gt={};!J&&O&2&&(J=!0,gt.active=a[1],H(()=>J=!1)),E.$set(gt);const mt={};!He&&O&1&&(He=!0,mt.active=a[0].dropper,H(()=>He=!1)),D.$set(mt);const _t={};!Re&&O&1&&(Re=!0,_t.active=a[0].lock,H(()=>Re=!1)),j.$set(_t)},i(a){ge||(M(r.$$.fragment,a),M(i.$$.fragment,a),M(c.$$.fragment,a),M(_.$$.fragment,a),M(E.$$.fragment,a),M(D.$$.fragment,a),M(j.$$.fragment,a),M(F.$$.fragment,a),ge=!0)},o(a){A(r.$$.fragment,a),A(i.$$.fragment,a),A(c.$$.fragment,a),A(_.$$.fragment,a),A(E.$$.fragment,a),A(D.$$.fragment,a),A(j.$$.fragment,a),A(F.$$.fragment,a),ge=!1},d(a){a&&Y(e),T(r),T(i),T(c),T(_),T(E),T(D),T(j),T(F)}}}function En(n,e,t){let{selection:r}=e,o=!1;function s(){r.colour.a===0?(t(0,r.colour.a=255,r),t(1,o=!1)):(t(0,r.colour.a=0,r),t(1,o=!0)),t(0,r.dropper=!1,r)}function i(){t(0,r.dropper=!r.dropper,r),o&&(t(1,o=!1),t(0,r.colour.a=255,r))}function l(){t(0,r.lock=!r.lock,r)}function u(f){n.$$.not_equal(r.colour.r,f)&&(r.colour.r=f,t(0,r))}function c(f){n.$$.not_equal(r.colour.g,f)&&(r.colour.g=f,t(0,r))}function d(f){n.$$.not_equal(r.colour.b,f)&&(r.colour.b=f,t(0,r))}function y(f){o=f,t(1,o)}function x(f){n.$$.not_equal(r.dropper,f)&&(r.dropper=f,t(0,r))}function _(f){n.$$.not_equal(r.lock,f)&&(r.lock=f,t(0,r))}function m(f){rn.call(this,n,f)}return n.$$set=f=>{"selection"in f&&t(0,r=f.selection)},[r,o,s,i,l,u,c,d,y,x,_,m]}class Sn extends ne{constructor(e){super(),te(this,e,En,Pn,G,{selection:0})}}function Mn(n){let e,t,r,o,s,i,l,u,c;function d(m){n[4](m)}let y={canvasSize:n[2]};n[1]!==void 0&&(y.colourSelect=n[1]),r=new wn({props:y}),L.push(()=>R(r,"colourSelect",d)),n[5](r);function x(m){n[6](m)}let _={};return n[1]!==void 0&&(_.selection=n[1]),l=new Sn({props:_}),L.push(()=>R(l,"selection",x)),l.$on("createImage",n[3]),{c(){e=b("div"),t=b("div"),q(r.$$.fragment),s=z(),i=b("div"),q(l.$$.fragment),p(t,"class","flex-1"),p(i,"class","flex-1 my-auto"),p(e,"class","flex")},m(m,f){ee(m,e,f),w(e,t),I(r,t,null),w(e,s),w(e,i),I(l,i,null),c=!0},p(m,[f]){const E={};!o&&f&2&&(o=!0,E.colourSelect=m[1],H(()=>o=!1)),r.$set(E);const J={};!u&&f&2&&(u=!0,J.selection=m[1],H(()=>u=!1)),l.$set(J)},i(m){c||(M(r.$$.fragment,m),M(l.$$.fragment,m),c=!0)},o(m){A(r.$$.fragment,m),A(l.$$.fragment,m),c=!1},d(m){m&&Y(e),n[5](null),T(r),T(l)}}}function In(n,e,t){let r;const o={height:window.innerHeight,width:window.innerWidth*.75};let s={colour:{r:128,g:128,b:128,a:255},dropper:!1,lock:!1};function i(){r.createImage()}addEventListener("keypress",()=>{console.log(s)});function l(d){s=d,t(1,s)}function u(d){L[d?"unshift":"push"](()=>{r=d,t(0,r)})}function c(d){s=d,t(1,s)}return[r,s,o,i,l,u,c]}class Tn extends ne{constructor(e){super(),te(this,e,In,Mn,G,{})}}new Tn({target:document.getElementById("app")});
