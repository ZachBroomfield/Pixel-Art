var qt=Object.defineProperty;var Dt=(n,e,t)=>e in n?qt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var k=(n,e,t)=>(Dt(n,typeof e!="symbol"?e+"":e,t),t),Oe=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var f=(n,e,t)=>(Oe(n,e,"read from private field"),t?t.call(n):e.get(n)),h=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},x=(n,e,t,s)=>(Oe(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t);var y=(n,e,t)=>(Oe(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function E(){}function at(n){return n()}function ot(){return Object.create(null)}function ue(n){n.forEach(at)}function jt(n){return typeof n=="function"}function Y(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let de;function Ot(n,e){return de||(de=document.createElement("a")),de.href=e,n===de.href}function Bt(n){return Object.keys(n).length===0}function _(n,e){n.appendChild(e)}function J(n,e,t){n.insertBefore(e,t||null)}function U(n){n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function ye(n){return document.createTextNode(n)}function L(){return ye(" ")}function _e(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ue(n){return n===""?null:+n}function Ht(n){return Array.from(n.childNodes)}function ft(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function ge(n,e){n.value=e==null?"":e}function lt(n,e,t){n.classList[t?"add":"remove"](e)}function Rt(n,e,{bubbles:t=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,s,e),i}let ne;function te(n){ne=n}function ht(){if(!ne)throw new Error("Function called outside component initialization");return ne}function Ut(n){ht().$$.on_mount.push(n)}function Wt(){const n=ht();return(e,t,{cancelable:s=!1}={})=>{const i=n.$$.callbacks[e];if(i){const r=Rt(e,t,{cancelable:s});return i.slice().forEach(o=>{o.call(n,r)}),!r.defaultPrevented}return!0}}function Kt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(s=>s.call(this,e))}const V=[],j=[],we=[],We=[],Xt=Promise.resolve();let Ke=!1;function Yt(){Ke||(Ke=!0,Xt.then(dt))}function Xe(n){we.push(n)}function G(n){We.push(n)}const Be=new Set;let me=0;function dt(){const n=ne;do{for(;me<V.length;){const e=V[me];me++,te(e),Jt(e.$$)}for(te(null),V.length=0,me=0;j.length;)j.pop()();for(let e=0;e<we.length;e+=1){const t=we[e];Be.has(t)||(Be.add(t),t())}we.length=0}while(V.length);for(;We.length;)We.pop()();Ke=!1,Be.clear(),te(n)}function Jt(n){if(n.fragment!==null){n.update(),ue(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Xe)}}const ve=new Set;let Qt;function M(n,e){n&&n.i&&(ve.delete(n),n.i(e))}function A(n,e,t,s){if(n&&n.o){if(ve.has(n))return;ve.add(n),Qt.c.push(()=>{ve.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}function ee(n,e,t){const s=n.$$.props[e];s!==void 0&&(n.$$.bound[s]=t,t(n.$$.ctx[s]))}function N(n){n&&n.c()}function z(n,e,t,s){const{fragment:i,on_mount:r,on_destroy:o,after_update:l}=n.$$;i&&i.m(e,t),s||Xe(()=>{const c=r.map(at).filter(jt);o?o.push(...c):ue(c),n.$$.on_mount=[]}),l.forEach(Xe)}function I(n,e){const t=n.$$;t.fragment!==null&&(ue(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Zt(n,e){n.$$.dirty[0]===-1&&(V.push(n),Yt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Q(n,e,t,s,i,r,o,l=[-1]){const c=ne;te(n);const u=n.$$={fragment:null,ctx:null,props:r,update:E,not_equal:i,bound:ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ot(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let d=!1;if(u.ctx=t?t(n,e.props||{},(a,w,...v)=>{const b=v.length?v[0]:w;return u.ctx&&i(u.ctx[a],u.ctx[a]=b)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](b),d&&Zt(n,a)),w}):[],u.update(),d=!0,ue(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const a=Ht(e.target);u.fragment&&u.fragment.l(a),a.forEach(U)}else u.fragment&&u.fragment.c();e.intro&&M(n.$$.fragment),z(n,e.target,e.anchor,e.customElement),dt()}te(c)}class Z{$destroy(){I(this,1),this.$destroy=E}$on(e,t){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Bt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ${constructor(e,t){k(this,"x");k(this,"y");if(typeof e=="object")this.x=e.x,this.y=e.y;else if(typeof e=="number"&&t)this.x=e,this.y=t;else throw new Error("Incorrect Vector2D parameters provided")}add(e){return this.x+=e.x,this.y+=e.y,this}sub(e){return this.x-=e.x,this.y-=e.y,this}mult(e){return this.x*=e,this.y*=e,this}mag(){return Math.sqrt(this.x**2+this.y**2)}magSqr(){return this.x**2+this.y**2}same(e){return this.x===e.x&&this.y===e.y}copy(){return new $(this.x,this.y)}static add(e,t){return new $({x:e.x+t.x,y:e.y+t.y})}static sub(e,t){return new $({x:e.x-t.x,y:e.y-t.y})}static mult(e,t){return new $({x:e.x*t,y:e.y*t})}static negative(e){return new $({x:-e.x,y:-e.y})}static copy(e){return new $({x:e.x,y:e.y})}}var C,W,pe,gt;class Ft{constructor(e){h(this,pe);h(this,C,void 0);h(this,W,void 0);x(this,C,document.getElementById(e.id)),x(this,W,f(this,C).getContext("2d")),y(this,pe,gt).call(this,{width:e.size.width,height:e.size.height})}getCtx(){return f(this,W)}getMidPoint(){return new $({x:f(this,C).width/2,y:f(this,C).height/2})}getSize(){return{width:f(this,C).width,height:f(this,C).height}}clear(){f(this,W).clearRect(0,0,f(this,C).width,f(this,C).height)}}C=new WeakMap,W=new WeakMap,pe=new WeakSet,gt=function(e){f(this,C).height=e.height,f(this,C).width=e.width};var se,K,ie,H,be,mt;class Vt{constructor(e){h(this,be);h(this,se,void 0);h(this,K,void 0);h(this,ie,void 0);h(this,H,void 0);k(this,"coordToPosition");k(this,"positionToCoord");x(this,se,e.dimensions),x(this,K,e.topLeft),x(this,ie,e.gridLines),x(this,H,e.spacing),this.coordToPosition=e.coordToPosition,this.positionToCoord=e.positionToCoord}drawLines(e){y(this,be,mt).call(this,e)}getDimensions(){return f(this,se)}getDrawArea(e,t){return{topLeft:{x:f(this,K).x+e*f(this,H)+1,y:f(this,K).y+t*f(this,H)+1},sideLength:f(this,H)-2}}}se=new WeakMap,K=new WeakMap,ie=new WeakMap,H=new WeakMap,be=new WeakSet,mt=function(e){e.strokeStyle="gray",e.lineWidth=1,f(this,ie).forEach(t=>{const s=t.get();e.beginPath(),e.moveTo(s.start.x,s.start.y),e.lineTo(s.end.x,s.end.y),e.stroke()})};var re,oe;class ct{constructor(e){h(this,re,void 0);h(this,oe,void 0);x(this,re,new $(e.start)),x(this,oe,new $(e.end))}get(){return{start:f(this,re),end:f(this,oe)}}}re=new WeakMap,oe=new WeakMap;var xe,_t,$e,wt,ke,vt,Ce,yt,Pe,pt,Ee,bt,Se,xt,Me,$t,ze,kt,Ie,Ct,Te,Pt;class P{static create(e){return y(this,xe,_t).call(this,e.dimensions,e.canvasSize)}}xe=new WeakSet,_t=function(e,t){e=y(this,Pe,pt).call(this,e);const s=y(this,Ee,bt).call(this,t),i=y(this,Se,xt).call(this,e,t),r=y(this,Me,$t).call(this,e,i,s),o=y(this,ze,kt).call(this,e,i,r),l=y(this,$e,wt).call(this,i,r),c=y(this,ke,vt).call(this,i,r,e);return new Vt({dimensions:e,topLeft:r,gridLines:o,spacing:i,coordToPosition:l,positionToCoord:c})},$e=new WeakSet,wt=function(e,t){const s=e/2;return i=>({x:t.x+s+e*(i.x-1),y:t.y+s+e*(i.y-1)})},ke=new WeakSet,vt=function(e,t,s){return i=>y(this,Ce,yt).call(this,i,t,s,e)?{x:Math.ceil((i.x-t.x)/e),y:Math.ceil((i.y-t.y)/e)}:null},Ce=new WeakSet,yt=function(e,t,s,i){return e.x>t.x&&e.y>t.y&&e.x<t.x+s.cols*i&&e.y<t.y+s.rows*i},Pe=new WeakSet,pt=function(e){return{cols:Math.min(e.cols,300),rows:Math.min(e.rows,180)}},Ee=new WeakSet,bt=function(e){return new $(e.width/2,e.height/2)},Se=new WeakSet,xt=function(e,t,s=.99){const i=Math.ceil(t.width*s),r=Math.ceil(t.height*s),o=Math.ceil((i-e.cols)/e.cols),l=Math.ceil((r-e.rows)/e.rows);return Math.min(o,l)},Me=new WeakSet,$t=function(e,t,s){return new $({x:Math.round(s.x-e.cols*t/2),y:Math.round(s.y-e.rows*t/2)})},ze=new WeakSet,kt=function(e,t,s){const i=[],r=y(this,Te,Pt).call(this,e,t),o=y(this,Ie,Ct).call(this,e,t);for(let l=0;l<=e.cols;l++)i.push(new ct({start:new $({x:s.x+l*t,y:s.y}),end:new $({x:s.x+l*t,y:s.y+r})}));for(let l=0;l<=e.rows;l++)i.push(new ct({start:new $({x:s.x,y:s.y+l*t}),end:new $({x:s.x+o,y:s.y+l*t})}));return i},Ie=new WeakSet,Ct=function(e,t){return e.cols*t},Te=new WeakSet,Pt=function(e,t){return e.rows*t},h(P,xe),h(P,$e),h(P,ke),h(P,Ce),h(P,Pe),h(P,Ee),h(P,Se),h(P,Me),h(P,ze),h(P,Ie),h(P,Te);var R,q,Le,Et;class Gt{constructor(e,t){h(this,Le);h(this,R,void 0);h(this,q,void 0);x(this,R,new Array(e.cols*e.rows)),x(this,q,e),y(this,Le,Et).call(this,t)}get(e,t){return f(this,R)[e+t*f(this,q).cols]}set(e,t,s){f(this,R)[e+t*f(this,q).cols]=s}}R=new WeakMap,q=new WeakMap,Le=new WeakSet,Et=function(e){for(let t=0;t<f(this,q).cols*f(this,q).rows;t++)f(this,R)[t]=e};class He{constructor(e,t,s,i=255){k(this,"r");k(this,"g");k(this,"b");k(this,"a");this.r=e,this.g=t,this.b=s,this.a=i}}var X,D,T,le,Ye,Ae,St,Ne,Mt,ce,Je;class en{constructor(e){h(this,le);h(this,Ae);h(this,Ne);h(this,ce);k(this,"cols");k(this,"rows");k(this,"values");h(this,X,void 0);h(this,D,void 0);h(this,T,void 0);this.cols=e.size.cols,this.rows=e.size.rows,this.values=new Gt(e.size,new He(0,0,0,0)),x(this,X,e.grid),x(this,D,[]),x(this,T,null);for(let t=0;t<this.cols;t++)for(let s=0;s<this.rows;s++)f(this,D).push({x:t,y:s})}getColour(e,t){return this.values.get(e,t)}getLength(){return this.cols*this.rows}drawChanged(e){f(this,D).forEach(t=>{const{topLeft:s,sideLength:i}=f(this,X).getDrawArea(t.x,t.y);let r=this.getColour(t.x,t.y);r.a===0?y(this,Ne,Mt).call(this,e,s,i):y(this,ce,Je).call(this,e,s,i,`rgba(${r.r}, ${r.g}, ${r.b}, ${r.a})`)}),f(this,D).length=0}editPixels(e,t){const s=y(this,Ae,St).call(this,e);if(s!==null){if(f(this,T)!==null&&s.x===f(this,T).x&&s.y===f(this,T).y)return;if(t.a===0)y(this,le,Ye).call(this,s.x,s.y,new He(0,0,0,0));else{const i=new He(t.r,t.g,t.b,t.a);y(this,le,Ye).call(this,s.x,s.y,i)}}x(this,T,s)}resetLastPixel(){x(this,T,null)}}X=new WeakMap,D=new WeakMap,T=new WeakMap,le=new WeakSet,Ye=function(e,t,s){this.values.set(e-1,t-1,s),f(this,D).push({x:e-1,y:t-1})},Ae=new WeakSet,St=function(e){return f(this,X).positionToCoord(e)},Ne=new WeakSet,Mt=function(e,t,s){s=s/2;let i=t.x,r=t.y;for(let o=0;o<2;o++){for(let l=0;l<2;l++)y(this,ce,Je).call(this,e,{x:i,y:r},s,(o+l)%2===0?"#D3D3D3":"#FFFFFF"),i+=s;i=t.x,r+=s}},ce=new WeakSet,Je=function(e,t,s,i){e.beginPath(),e.fillStyle=i,e.fillRect(t.x,t.y,s,s),e.stroke()};class tn{constructor(){k(this,"mouse");k(this,"scale");this.mouse={x:0,y:0,click:!1},this.scale=20}updateMousePosition(e){this.mouse.x=e.clientX+document.documentElement.scrollLeft,this.mouse.y=e.clientY+document.documentElement.scrollTop}}var qe,zt,De,It;class Qe{static fromPixels(e,t){const s=y(this,qe,zt).call(this,e,t),i=y(this,De,It).call(this,e.cols,e.rows,t),r=i.getContext("2d");let o=r.createImageData(e.cols*t,e.rows*t);o.data.set(s),r.putImageData(o,0,0);const l=i.toDataURL();{let c=document.createElement("a");c.download="image.png",c.href=l,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}}qe=new WeakSet,zt=function(e,t){const s=new Uint8Array(e.getLength()*4*t*t);for(let i=0;i<e.cols;i++)for(let r=0;r<e.rows;r++){const o=e.getColour(i,r),l={x:i*t,y:r*t};for(let c=0;c<t;c++)for(let u=0;u<t;u++){const d=(l.x+c+(l.y+u)*e.cols*t)*4;o!==null&&(s[d]=o.r,s[d+1]=o.g,s[d+2]=o.b,s[d+3]=o.a)}}return s},De=new WeakSet,It=function(e,t,s){const i=document.createElement("canvas");return i.width=e*s,i.height=t*s,i},h(Qe,qe),h(Qe,De);function nn(n,e){addEventListener("mousedown",t=>{n.updateMousePosition(t),t.button===0&&(n.mouse.click=!0)}),addEventListener("mouseup",t=>{n.updateMousePosition(t),t.button===0&&(n.mouse.click=!1,e.resetLastPixel())}),addEventListener("mousemove",t=>{n.updateMousePosition(t)})}function sn(n){let e;return{c(){e=p("canvas"),m(e,"id","canvas"),m(e,"class","svelte-a5oyf8")},m(t,s){J(t,e,s)},p:E,i:E,o:E,d(t){t&&U(e)}}}function rn(n,e,t){let{canvasSize:s}=e,{colourSelect:i}=e,r,o;Ut(()=>{const c=new Ft({size:s,id:"canvas"}),u={cols:40,rows:40};r=new tn;const d=i,a=P.create({dimensions:u,canvasSize:c.getSize()});o=new en({size:u,grid:a});function w(){c.clear(),a.drawLines(c.getCtx())}function v(){r.mouse.click&&o.editPixels(r.mouse,d),o.drawChanged(c.getCtx()),requestAnimationFrame(v)}w(),nn(r,o),v()});function l(){Qe.fromPixels(o,r.scale)}return n.$$set=c=>{"canvasSize"in c&&t(0,s=c.canvasSize),"colourSelect"in c&&t(1,i=c.colourSelect)},[s,i,l]}class on extends Z{constructor(e){super(),Q(this,e,rn,sn,Y,{canvasSize:0,colourSelect:1,createImage:2})}get createImage(){return this.$$.ctx[2]}}function ln(n){let e,t,s,i,r,o,l,c,u,d,a,w;return{c(){e=p("div"),t=p("label"),s=p("span"),i=p("span"),r=ye(n[1]),o=ye(":"),l=L(),c=p("input"),u=L(),d=p("input"),m(i,"class","text-xl ml-2"),m(c,"type","range"),m(c,"min","0"),m(c,"max","255"),m(c,"class","svelte-1w57o91"),m(d,"type","number"),m(d,"min","0"),m(d,"max","255"),m(d,"class","inputNumber svelte-1w57o91"),m(s,"class","flex items-center w-0")},m(v,b){J(v,e,b),_(e,t),_(t,s),_(s,i),_(i,r),_(i,o),_(s,l),_(s,c),ge(c,n[0]),_(s,u),_(s,d),ge(d,n[0]),a||(w=[_e(c,"change",n[2]),_e(c,"input",n[2]),_e(d,"input",n[3])],a=!0)},p(v,[b]){b&2&&ft(r,v[1]),b&1&&ge(c,v[0]),b&1&&Ue(d.value)!==v[0]&&ge(d,v[0])},i:E,o:E,d(v){v&&U(e),a=!1,ue(w)}}}function cn(n,e,t){let{value:s}=e,{name:i}=e;function r(){s=Ue(this.value),t(0,s)}function o(){s=Ue(this.value),t(0,s)}return n.$$set=l=>{"value"in l&&t(0,s=l.value),"name"in l&&t(1,i=l.name)},[s,i,r,o]}class Re extends Z{constructor(e){super(),Q(this,e,cn,ln,Y,{value:0,name:1})}}function un(n){let e,t,s,i;return{c(){e=p("button"),t=ye(n[0]),m(e,"class","btn"),lt(e,"btn-primary",n[1])},m(r,o){J(r,e,o),_(e,t),s||(i=_e(e,"click",n[2]),s=!0)},p(r,[o]){o&1&&ft(t,r[0]),o&2&&lt(e,"btn-primary",r[1])},i:E,o:E,d(r){r&&U(e),s=!1,i()}}}function an(n,e,t){let{messageName:s}=e,{text:i}=e,{active:r}=e;const o=Wt();function l(){o(s)}return n.$$set=c=>{"messageName"in c&&t(3,s=c.messageName),"text"in c&&t(0,i=c.text),"active"in c&&t(1,r=c.active)},[i,r,l,s]}class ut extends Z{constructor(e){super(),Q(this,e,an,un,Y,{messageName:3,text:0,active:1})}}function fn(n){let e,t,s,i,r,o;return{c(){e=p("div"),t=p("img"),i=L(),r=p("div"),m(t,"class","child rounded-lg svelte-20zaem"),Ot(t.src,s="transparent.png")||m(t,"src",s),m(t,"alt","transparent"),m(r,"class","child rounded-lg svelte-20zaem"),m(r,"style",o=`background-color: rgba(${n[0].r}, ${n[0].g}, ${n[0].b}, ${n[0].a})`),m(e,"class","parent w-14 h-14 rounded svelte-20zaem")},m(l,c){J(l,e,c),_(e,t),_(e,i),_(e,r)},p(l,[c]){c&1&&o!==(o=`background-color: rgba(${l[0].r}, ${l[0].g}, ${l[0].b}, ${l[0].a})`)&&m(r,"style",o)},i:E,o:E,d(l){l&&U(e)}}}function hn(n,e,t){let{colour:s}=e;return n.$$set=i=>{"colour"in i&&t(0,s=i.colour)},[s]}class dn extends Z{constructor(e){super(),Q(this,e,hn,fn,Y,{colour:0})}}function gn(n){let e,t,s,i,r,o,l,c,u,d,a,w,v,b,F,ae,S,je,Ze,fe,O,he;function Tt(g){n[3](g)}let Fe={name:"R"};n[0].r!==void 0&&(Fe.value=n[0].r),i=new Re({props:Fe}),j.push(()=>ee(i,"value",Tt));function Lt(g){n[4](g)}let Ve={name:"G"};n[0].g!==void 0&&(Ve.value=n[0].g),l=new Re({props:Ve}),j.push(()=>ee(l,"value",Lt));function At(g){n[5](g)}let Ge={name:"B"};n[0].b!==void 0&&(Ge.value=n[0].b),d=new Re({props:Ge}),j.push(()=>ee(d,"value",At)),b=new dn({props:{colour:n[0]}});function Nt(g){n[6](g)}let et={messageName:"eraser",text:"Eraser"};return n[1]!==void 0&&(et.active=n[1]),S=new ut({props:et}),j.push(()=>ee(S,"active",Nt)),S.$on("eraser",n[2]),O=new ut({props:{messageName:"createImage",text:"Create Image",active:!1}}),O.$on("createImage",n[7]),{c(){e=p("div"),t=p("div"),s=p("div"),N(i.$$.fragment),o=L(),N(l.$$.fragment),u=L(),N(d.$$.fragment),w=L(),v=p("div"),N(b.$$.fragment),F=L(),ae=p("div"),N(S.$$.fragment),Ze=L(),fe=p("div"),N(O.$$.fragment),m(s,"class","basis-3/4 svelte-1xg68hw"),m(v,"class","basis-1/4 my-auto svelte-1xg68hw"),m(t,"class","flex flex-row svelte-1xg68hw"),m(ae,"class","my-4 text-center svelte-1xg68hw"),m(fe,"class","my-4 text-center svelte-1xg68hw"),m(e,"class","max-w-xs svelte-1xg68hw")},m(g,B){J(g,e,B),_(e,t),_(t,s),z(i,s,null),_(s,o),z(l,s,null),_(s,u),z(d,s,null),_(t,w),_(t,v),z(b,v,null),_(e,F),_(e,ae),z(S,ae,null),_(e,Ze),_(e,fe),z(O,fe,null),he=!0},p(g,[B]){const tt={};!r&&B&1&&(r=!0,tt.value=g[0].r,G(()=>r=!1)),i.$set(tt);const nt={};!c&&B&1&&(c=!0,nt.value=g[0].g,G(()=>c=!1)),l.$set(nt);const st={};!a&&B&1&&(a=!0,st.value=g[0].b,G(()=>a=!1)),d.$set(st);const it={};B&1&&(it.colour=g[0]),b.$set(it);const rt={};!je&&B&2&&(je=!0,rt.active=g[1],G(()=>je=!1)),S.$set(rt)},i(g){he||(M(i.$$.fragment,g),M(l.$$.fragment,g),M(d.$$.fragment,g),M(b.$$.fragment,g),M(S.$$.fragment,g),M(O.$$.fragment,g),he=!0)},o(g){A(i.$$.fragment,g),A(l.$$.fragment,g),A(d.$$.fragment,g),A(b.$$.fragment,g),A(S.$$.fragment,g),A(O.$$.fragment,g),he=!1},d(g){g&&U(e),I(i),I(l),I(d),I(b),I(S),I(O)}}}function mn(n,e,t){let s,{selection:i={r:0,g:0,b:0,a:255}}=e;function r(){i.a===0?t(0,i.a=255,i):t(0,i.a=0,i)}function o(a){n.$$.not_equal(i.r,a)&&(i.r=a,t(0,i))}function l(a){n.$$.not_equal(i.g,a)&&(i.g=a,t(0,i))}function c(a){n.$$.not_equal(i.b,a)&&(i.b=a,t(0,i))}function u(a){s=a,t(1,s),t(0,i)}function d(a){Kt.call(this,n,a)}return n.$$set=a=>{"selection"in a&&t(0,i=a.selection)},n.$$.update=()=>{n.$$.dirty&1&&t(1,s=i.a===0)},[i,s,r,o,l,c,u,d]}class _n extends Z{constructor(e){super(),Q(this,e,mn,gn,Y,{selection:0})}}function wn(n){let e,t,s,i,r,o,l,c,u={canvasSize:n[2],colourSelect:n[1]};s=new on({props:u}),n[4](s);function d(w){n[5](w)}let a={};return n[1]!==void 0&&(a.selection=n[1]),o=new _n({props:a}),j.push(()=>ee(o,"selection",d)),o.$on("createImage",n[3]),{c(){e=p("div"),t=p("div"),N(s.$$.fragment),i=L(),r=p("div"),N(o.$$.fragment),m(t,"class","basis-4/5"),m(r,"class","basis-1/5 my-auto"),m(e,"class","flex flex-row")},m(w,v){J(w,e,v),_(e,t),z(s,t,null),_(e,i),_(e,r),z(o,r,null),c=!0},p(w,[v]){const b={};v&2&&(b.colourSelect=w[1]),s.$set(b);const F={};!l&&v&2&&(l=!0,F.selection=w[1],G(()=>l=!1)),o.$set(F)},i(w){c||(M(s.$$.fragment,w),M(o.$$.fragment,w),c=!0)},o(w){A(s.$$.fragment,w),A(o.$$.fragment,w),c=!1},d(w){w&&U(e),n[4](null),I(s),I(o)}}}function vn(n,e,t){let s;const i={height:window.innerHeight,width:window.innerWidth*.8};let r={r:128,g:128,b:128,a:255};function o(){s.createImage()}function l(u){j[u?"unshift":"push"](()=>{s=u,t(0,s)})}function c(u){r=u,t(1,r)}return[s,r,i,o,l,c]}class yn extends Z{constructor(e){super(),Q(this,e,vn,wn,Y,{})}}new yn({target:document.getElementById("app")});
