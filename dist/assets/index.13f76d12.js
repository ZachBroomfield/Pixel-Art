var Bt=Object.defineProperty;var Ht=(n,e,t)=>e in n?Bt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var k=(n,e,t)=>(Ht(n,typeof e!="symbol"?e+"":e,t),t),Oe=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var f=(n,e,t)=>(Oe(n,e,"read from private field"),t?t.call(n):e.get(n)),g=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},x=(n,e,t,r)=>(Oe(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t);var w=(n,e,t)=>(Oe(n,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function M(){}function gt(n){return n()}function ft(){return Object.create(null)}function he(n){n.forEach(gt)}function Rt(n){return typeof n=="function"}function V(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let ge;function Ut(n,e){return ge||(ge=document.createElement("a")),ge.href=e,n===ge.href}function Wt(n){return Object.keys(n).length===0}function p(n,e){n.appendChild(e)}function G(n,e,t){n.insertBefore(e,t||null)}function X(n){n.parentNode.removeChild(n)}function v(n){return document.createElement(n)}function ve(n){return document.createTextNode(n)}function L(){return ve(" ")}function pe(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function We(n){return n===""?null:+n}function Ft(n){return Array.from(n.childNodes)}function mt(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function me(n,e){n.value=e==null?"":e}function ht(n,e,t){n.classList[t?"add":"remove"](e)}function Kt(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,r,e),s}let se;function re(n){se=n}function _t(){if(!se)throw new Error("Function called outside component initialization");return se}function Xt(n){_t().$$.on_mount.push(n)}function Yt(){const n=_t();return(e,t,{cancelable:r=!1}={})=>{const s=n.$$.callbacks[e];if(s){const o=Kt(e,t,{cancelable:r});return s.slice().forEach(i=>{i.call(n,o)}),!o.defaultPrevented}return!0}}function Jt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const ne=[],A=[],we=[],Fe=[],Qt=Promise.resolve();let Ke=!1;function Zt(){Ke||(Ke=!0,Qt.then(pt))}function Xe(n){we.push(n)}function U(n){Fe.push(n)}const Be=new Set;let _e=0;function pt(){const n=se;do{for(;_e<ne.length;){const e=ne[_e];_e++,re(e),Vt(e.$$)}for(re(null),ne.length=0,_e=0;A.length;)A.pop()();for(let e=0;e<we.length;e+=1){const t=we[e];Be.has(t)||(Be.add(t),t())}we.length=0}while(ne.length);for(;Fe.length;)Fe.pop()();Ke=!1,Be.clear(),re(n)}function Vt(n){if(n.fragment!==null){n.update(),he(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Xe)}}const ye=new Set;let Gt;function T(n,e){n&&n.i&&(ye.delete(n),n.i(e))}function D(n,e,t,r){if(n&&n.o){if(ye.has(n))return;ye.add(n),Gt.c.push(()=>{ye.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function W(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function q(n){n&&n.c()}function z(n,e,t,r){const{fragment:s,on_mount:o,on_destroy:i,after_update:l}=n.$$;s&&s.m(e,t),r||Xe(()=>{const u=o.map(gt).filter(Rt);i?i.push(...u):he(u),n.$$.on_mount=[]}),l.forEach(Xe)}function I(n,e){const t=n.$$;t.fragment!==null&&(he(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function en(n,e){n.$$.dirty[0]===-1&&(ne.push(n),Zt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ee(n,e,t,r,s,o,i,l=[-1]){const u=se;re(n);const a=n.$$={fragment:null,ctx:null,props:o,update:M,not_equal:s,bound:ft(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ft(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};i&&i(a.root);let h=!1;if(a.ctx=t?t(n,e.props||{},(y,b,...c)=>{const m=c.length?c[0]:b;return a.ctx&&s(a.ctx[y],a.ctx[y]=m)&&(!a.skip_bound&&a.bound[y]&&a.bound[y](m),h&&en(n,y)),b}):[],a.update(),h=!0,he(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const y=Ft(e.target);a.fragment&&a.fragment.l(y),y.forEach(X)}else a.fragment&&a.fragment.c();e.intro&&T(n.$$.fragment),z(n,e.target,e.anchor,e.customElement),pt()}re(u)}class te{$destroy(){I(this,1),this.$destroy=M}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Wt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ${constructor(e,t){k(this,"x");k(this,"y");if(typeof e=="object")this.x=e.x,this.y=e.y;else if(typeof e=="number"&&t)this.x=e,this.y=t;else throw new Error("Incorrect Vector2D parameters provided")}add(e){return this.x+=e.x,this.y+=e.y,this}sub(e){return this.x-=e.x,this.y-=e.y,this}mult(e){return this.x*=e,this.y*=e,this}mag(){return Math.sqrt(this.x**2+this.y**2)}magSqr(){return this.x**2+this.y**2}same(e){return this.x===e.x&&this.y===e.y}copy(){return new $(this.x,this.y)}static add(e,t){return new $({x:e.x+t.x,y:e.y+t.y})}static sub(e,t){return new $({x:e.x-t.x,y:e.y-t.y})}static mult(e,t){return new $({x:e.x*t,y:e.y*t})}static negative(e){return new $({x:-e.x,y:-e.y})}static copy(e){return new $({x:e.x,y:e.y})}}var P,J,be,wt;class tn{constructor(e){g(this,be);g(this,P,void 0);g(this,J,void 0);x(this,P,document.getElementById(e.id)),x(this,J,f(this,P).getContext("2d")),w(this,be,wt).call(this,{width:e.size.width,height:e.size.height})}getCtx(){return f(this,J)}getMidPoint(){return new $({x:f(this,P).width/2,y:f(this,P).height/2})}getSize(){return{width:f(this,P).width,height:f(this,P).height}}clear(){f(this,J).clearRect(0,0,f(this,P).width,f(this,P).height)}}P=new WeakMap,J=new WeakMap,be=new WeakSet,wt=function(e){f(this,P).height=e.height,f(this,P).width=e.width};var oe,Q,ie,F,xe,yt;class nn{constructor(e){g(this,xe);g(this,oe,void 0);g(this,Q,void 0);g(this,ie,void 0);g(this,F,void 0);k(this,"coordToPosition");k(this,"positionToCoord");x(this,oe,e.dimensions),x(this,Q,e.topLeft),x(this,ie,e.gridLines),x(this,F,e.spacing),this.coordToPosition=e.coordToPosition,this.positionToCoord=e.positionToCoord}drawLines(e){w(this,xe,yt).call(this,e)}getDimensions(){return f(this,oe)}getDrawArea(e,t){return{topLeft:{x:f(this,Q).x+e*f(this,F)+1,y:f(this,Q).y+t*f(this,F)+1},sideLength:f(this,F)-2}}}oe=new WeakMap,Q=new WeakMap,ie=new WeakMap,F=new WeakMap,xe=new WeakSet,yt=function(e){e.strokeStyle="gray",e.lineWidth=1,f(this,ie).forEach(t=>{const r=t.get();e.beginPath(),e.moveTo(r.start.x,r.start.y),e.lineTo(r.end.x,r.end.y),e.stroke()})};var le,ue;class dt{constructor(e){g(this,le,void 0);g(this,ue,void 0);x(this,le,new $(e.start)),x(this,ue,new $(e.end))}get(){return{start:f(this,le),end:f(this,ue)}}}le=new WeakMap,ue=new WeakMap;var $e,vt,ke,bt,Ce,xt,Pe,$t,Ee,kt,Se,Ct,Me,Pt,Te,Et,ze,St,Ie,Mt,Le,Tt;class S{static create(e){return w(this,$e,vt).call(this,e.dimensions,e.canvasSize)}}$e=new WeakSet,vt=function(e,t){e=w(this,Ee,kt).call(this,e);const r=w(this,Se,Ct).call(this,t),s=w(this,Me,Pt).call(this,e,t),o=w(this,Te,Et).call(this,e,s,r,t),i=w(this,ze,St).call(this,e,s,o),l=w(this,ke,bt).call(this,s,o),u=w(this,Ce,xt).call(this,s,o,e);return new nn({dimensions:e,topLeft:o,gridLines:i,spacing:s,coordToPosition:l,positionToCoord:u})},ke=new WeakSet,bt=function(e,t){const r=e/2;return s=>({x:t.x+r+e*(s.x-1),y:t.y+r+e*(s.y-1)})},Ce=new WeakSet,xt=function(e,t,r){return s=>w(this,Pe,$t).call(this,s,t,r,e)?{x:Math.ceil((s.x-t.x)/e),y:Math.ceil((s.y-t.y)/e)}:null},Pe=new WeakSet,$t=function(e,t,r,s){return e.x>t.x&&e.y>t.y&&e.x<t.x+r.cols*s&&e.y<t.y+r.rows*s},Ee=new WeakSet,kt=function(e){return{cols:Math.min(e.cols,300),rows:Math.min(e.rows,180)}},Se=new WeakSet,Ct=function(e){return new $(e.width/2,e.height/2)},Me=new WeakSet,Pt=function(e,t,r=.99){const s=Math.ceil(t.width*r),o=Math.ceil(t.height*r),i=Math.ceil((s-e.cols)/e.cols),l=Math.ceil((o-e.rows)/e.rows);return Math.min(i,l)},Te=new WeakSet,Et=function(e,t,r,s){const o=Math.max(Math.round(r.x-e.cols*t/2),Math.round(s.width-100-e.cols*t));return new $({x:o,y:Math.round(r.y-e.rows*t/2)})},ze=new WeakSet,St=function(e,t,r){const s=[],o=w(this,Le,Tt).call(this,e,t),i=w(this,Ie,Mt).call(this,e,t);for(let l=0;l<=e.cols;l++)s.push(new dt({start:new $({x:r.x+l*t,y:r.y}),end:new $({x:r.x+l*t,y:r.y+o})}));for(let l=0;l<=e.rows;l++)s.push(new dt({start:new $({x:r.x,y:r.y+l*t}),end:new $({x:r.x+i,y:r.y+l*t})}));return s},Ie=new WeakSet,Mt=function(e,t){return e.cols*t},Le=new WeakSet,Tt=function(e,t){return e.rows*t},g(S,$e),g(S,ke),g(S,Ce),g(S,Pe),g(S,Ee),g(S,Se),g(S,Me),g(S,Te),g(S,ze),g(S,Ie),g(S,Le);var K,B,Ae,zt;class rn{constructor(e,t){g(this,Ae);g(this,K,void 0);g(this,B,void 0);x(this,K,new Array(e.cols*e.rows)),x(this,B,e),w(this,Ae,zt).call(this,t)}get(e,t){return f(this,K)[e+t*f(this,B).cols]}set(e,t,r){f(this,K)[e+t*f(this,B).cols]=r}}K=new WeakMap,B=new WeakMap,Ae=new WeakSet,zt=function(e){for(let t=0;t<f(this,B).cols*f(this,B).rows;t++)f(this,K)[t]=e};class He{constructor(e,t,r,s=255){k(this,"r");k(this,"g");k(this,"b");k(this,"a");this.r=e,this.g=t,this.b=r,this.a=s}}var Z,H,j,ce,Ye,ae,Je,Ne,It,fe,Qe;class sn{constructor(e){g(this,ce);g(this,ae);g(this,Ne);g(this,fe);k(this,"cols");k(this,"rows");k(this,"values");g(this,Z,void 0);g(this,H,void 0);g(this,j,void 0);this.cols=e.size.cols,this.rows=e.size.rows,this.values=new rn(e.size,new He(0,0,0,0)),x(this,Z,e.grid),x(this,H,[]),x(this,j,null);for(let t=0;t<this.cols;t++)for(let r=0;r<this.rows;r++)f(this,H).push({x:t,y:r})}getColour(e,t){return this.values.get(e,t)}getColourFromMouse(e){const t=w(this,ae,Je).call(this,e);return t!==null?this.getColour(t.x-1,t.y-1):null}getLength(){return this.cols*this.rows}drawChanged(e){f(this,H).forEach(t=>{const{topLeft:r,sideLength:s}=f(this,Z).getDrawArea(t.x,t.y);let o=this.getColour(t.x,t.y);o.a===0?w(this,Ne,It).call(this,e,r,s):w(this,fe,Qe).call(this,e,r,s,`rgba(${o.r}, ${o.g}, ${o.b}, ${o.a})`)}),f(this,H).length=0}editPixels(e,t){const r=w(this,ae,Je).call(this,e);if(r!==null){if(f(this,j)!==null&&r.x===f(this,j).x&&r.y===f(this,j).y)return;if(t.a===0)w(this,ce,Ye).call(this,r.x,r.y,new He(0,0,0,0));else{const s=new He(t.r,t.g,t.b,t.a);w(this,ce,Ye).call(this,r.x,r.y,s)}}x(this,j,r)}resetLastPixel(){x(this,j,null)}}Z=new WeakMap,H=new WeakMap,j=new WeakMap,ce=new WeakSet,Ye=function(e,t,r){this.values.set(e-1,t-1,r),f(this,H).push({x:e-1,y:t-1})},ae=new WeakSet,Je=function(e){return f(this,Z).positionToCoord(e)},Ne=new WeakSet,It=function(e,t,r){r=r/2;let s=t.x,o=t.y;for(let i=0;i<2;i++){for(let l=0;l<2;l++)w(this,fe,Qe).call(this,e,{x:s,y:o},r,(i+l)%2===0?"#D3D3D3":"#FFFFFF"),s+=r;s=t.x,o+=r}},fe=new WeakSet,Qe=function(e,t,r,s){e.beginPath(),e.fillStyle=s,e.fillRect(t.x,t.y,r,r),e.stroke()};class on{constructor(e){k(this,"mouse");k(this,"scale");this.mouse={x:0,y:0,click:!1},this.scale=e}updateMousePosition(e){this.mouse.x=e.clientX+document.documentElement.scrollLeft,this.mouse.y=e.clientY+document.documentElement.scrollTop}}var De,Lt,qe,At;class Ze{static fromPixels(e,t){const r=w(this,De,Lt).call(this,e,t),s=w(this,qe,At).call(this,e.cols,e.rows,t),o=s.getContext("2d");let i=o.createImageData(e.cols*t,e.rows*t);i.data.set(r),o.putImageData(i,0,0);const l=s.toDataURL();{let u=document.createElement("a");u.download="image.png",u.href=l,document.body.appendChild(u),u.click(),document.body.removeChild(u)}}}De=new WeakSet,Lt=function(e,t){const r=new Uint8Array(e.getLength()*4*t*t);for(let s=0;s<e.cols;s++)for(let o=0;o<e.rows;o++){const i=e.getColour(s,o),l={x:s*t,y:o*t};for(let u=0;u<t;u++)for(let a=0;a<t;a++){const h=(l.x+u+(l.y+a)*e.cols*t)*4;i!==null&&(r[h]=i.r,r[h+1]=i.g,r[h+2]=i.b,r[h+3]=i.a)}}return r},qe=new WeakSet,At=function(e,t,r){const s=document.createElement("canvas");return s.width=e*r,s.height=t*r,s},g(Ze,De),g(Ze,qe);function ln(n,e){addEventListener("mousedown",t=>{n.updateMousePosition(t),t.button===0&&(n.mouse.click=!0)}),addEventListener("mouseup",t=>{n.updateMousePosition(t),t.button===0&&(n.mouse.click=!1,e.resetLastPixel())}),addEventListener("mousemove",t=>{n.updateMousePosition(t)})}function un(n){let e;return{c(){e=v("canvas"),_(e,"id","canvas"),_(e,"class","svelte-a5oyf8")},m(t,r){G(t,e,r)},p:M,i:M,o:M,d(t){t&&X(e)}}}function cn(n,e,t){let{canvasSize:r}=e,{colourSelect:s}=e,o,i;Xt(()=>{const u=new tn({size:r,id:"canvas"}),a={cols:32,rows:32};o=new on(20);const h=S.create({dimensions:a,canvasSize:u.getSize()});i=new sn({size:a,grid:h});function y(){u.clear(),h.drawLines(u.getCtx())}function b(){if(o.mouse.click)if(s.dropper){const c=i.getColourFromMouse(o.mouse);c!==null&&c.a!==0&&(t(0,s.colour=c,s),t(0,s.dropper=!1,s)),o.mouse.click=!1}else i.editPixels(o.mouse,s.colour);i.drawChanged(u.getCtx()),requestAnimationFrame(b)}ln(o,i),y(),b()});function l(){Ze.fromPixels(i,o.scale)}return n.$$set=u=>{"canvasSize"in u&&t(1,r=u.canvasSize),"colourSelect"in u&&t(0,s=u.colourSelect)},[s,r,l]}class an extends te{constructor(e){super(),ee(this,e,cn,un,V,{canvasSize:1,colourSelect:0,createImage:2})}get createImage(){return this.$$.ctx[2]}}function fn(n){let e,t,r,s,o,i,l,u,a,h,y,b;return{c(){e=v("div"),t=v("label"),r=v("span"),s=v("span"),o=ve(n[1]),i=ve(":"),l=L(),u=v("input"),a=L(),h=v("input"),_(s,"class","text-xl ml-2"),_(u,"type","range"),_(u,"min","0"),_(u,"max","255"),_(u,"class","svelte-1w57o91"),_(h,"type","number"),_(h,"min","0"),_(h,"max","255"),_(h,"class","inputNumber svelte-1w57o91"),_(r,"class","flex items-center w-0")},m(c,m){G(c,e,m),p(e,t),p(t,r),p(r,s),p(s,o),p(s,i),p(r,l),p(r,u),me(u,n[0]),p(r,a),p(r,h),me(h,n[0]),y||(b=[pe(u,"change",n[2]),pe(u,"input",n[2]),pe(h,"input",n[3])],y=!0)},p(c,[m]){m&2&&mt(o,c[1]),m&1&&me(u,c[0]),m&1&&We(h.value)!==c[0]&&me(h,c[0])},i:M,o:M,d(c){c&&X(e),y=!1,he(b)}}}function hn(n,e,t){let{value:r}=e,{name:s}=e;function o(){r=We(this.value),t(0,r)}function i(){r=We(this.value),t(0,r)}return n.$$set=l=>{"value"in l&&t(0,r=l.value),"name"in l&&t(1,s=l.name)},[r,s,o,i]}class Re extends te{constructor(e){super(),ee(this,e,hn,fn,V,{value:0,name:1})}}function dn(n){let e,t,r,s;return{c(){e=v("button"),t=ve(n[0]),_(e,"class","btn btn-lg"),ht(e,"btn-primary",n[1])},m(o,i){G(o,e,i),p(e,t),r||(s=pe(e,"click",n[2]),r=!0)},p(o,[i]){i&1&&mt(t,o[0]),i&2&&ht(e,"btn-primary",o[1])},i:M,o:M,d(o){o&&X(e),r=!1,s()}}}function gn(n,e,t){let{messageName:r}=e,{text:s}=e,{active:o}=e;const i=Yt();function l(){i(r)}return n.$$set=u=>{"messageName"in u&&t(3,r=u.messageName),"text"in u&&t(0,s=u.text),"active"in u&&t(1,o=u.active)},[s,o,l,r]}class Ue extends te{constructor(e){super(),ee(this,e,gn,dn,V,{messageName:3,text:0,active:1})}}function mn(n){let e,t,r,s,o,i;return{c(){e=v("div"),t=v("img"),s=L(),o=v("div"),_(t,"class","child rounded-lg border m-1 svelte-20zaem"),Ut(t.src,r="transparent.png")||_(t,"src",r),_(t,"alt","erase"),_(o,"class","child rounded-lg border m-1 svelte-20zaem"),_(o,"style",i=`background-color: 
      rgba(${n[0].r}, ${n[0].g}, ${n[0].b}, ${n[0].a})`),_(e,"class","parent w-14 h-14 rounded-lg mx-auto svelte-20zaem")},m(l,u){G(l,e,u),p(e,t),p(e,s),p(e,o)},p(l,[u]){u&1&&i!==(i=`background-color: 
      rgba(${l[0].r}, ${l[0].g}, ${l[0].b}, ${l[0].a})`)&&_(o,"style",i)},i:M,o:M,d(l){l&&X(e)}}}function _n(n,e,t){let{colour:r}=e;return n.$$set=s=>{"colour"in s&&t(0,r=s.colour)},[r]}class pn extends te{constructor(e){super(),ee(this,e,_n,mn,V,{colour:0})}}function wn(n){let e,t,r,s,o,i,l,u,a,h,y,b,c,m,C,E,Y,Ve,N,je,Ge,R,de;function Nt(d){n[4](d)}let et={name:"R"};n[0].colour.r!==void 0&&(et.value=n[0].colour.r),r=new Re({props:et}),A.push(()=>W(r,"value",Nt));function Dt(d){n[5](d)}let tt={name:"G"};n[0].colour.g!==void 0&&(tt.value=n[0].colour.g),i=new Re({props:tt}),A.push(()=>W(i,"value",Dt));function qt(d){n[6](d)}let nt={name:"B"};n[0].colour.b!==void 0&&(nt.value=n[0].colour.b),a=new Re({props:nt}),A.push(()=>W(a,"value",qt)),c=new pn({props:{colour:n[0].colour}});function jt(d){n[7](d)}let rt={messageName:"eraser",text:"Eraser"};n[1]!==void 0&&(rt.active=n[1]),E=new Ue({props:rt}),A.push(()=>W(E,"active",jt)),E.$on("eraser",n[2]);function Ot(d){n[8](d)}let st={messageName:"select",text:"Dropper"};return n[0].dropper!==void 0&&(st.active=n[0].dropper),N=new Ue({props:st}),A.push(()=>W(N,"active",Ot)),N.$on("select",n[3]),R=new Ue({props:{messageName:"createImage",text:"Download",active:!1}}),R.$on("createImage",n[9]),{c(){e=v("div"),t=v("div"),q(r.$$.fragment),o=L(),q(i.$$.fragment),u=L(),q(a.$$.fragment),y=L(),b=v("div"),q(c.$$.fragment),m=L(),C=v("div"),q(E.$$.fragment),Ve=L(),q(N.$$.fragment),Ge=L(),q(R.$$.fragment),_(t,"class"," svelte-1xg68hw"),_(b,"class"," svelte-1xg68hw"),_(C,"class","my-4 ml-4 btn-group btn-group-vertical svelte-1xg68hw"),_(e,"class","min-w-min max-w-min svelte-1xg68hw")},m(d,O){G(d,e,O),p(e,t),z(r,t,null),p(t,o),z(i,t,null),p(t,u),z(a,t,null),p(e,y),p(e,b),z(c,b,null),p(e,m),p(e,C),z(E,C,null),p(C,Ve),z(N,C,null),p(C,Ge),z(R,C,null),de=!0},p(d,[O]){const ot={};!s&&O&1&&(s=!0,ot.value=d[0].colour.r,U(()=>s=!1)),r.$set(ot);const it={};!l&&O&1&&(l=!0,it.value=d[0].colour.g,U(()=>l=!1)),i.$set(it);const lt={};!h&&O&1&&(h=!0,lt.value=d[0].colour.b,U(()=>h=!1)),a.$set(lt);const ut={};O&1&&(ut.colour=d[0].colour),c.$set(ut);const ct={};!Y&&O&2&&(Y=!0,ct.active=d[1],U(()=>Y=!1)),E.$set(ct);const at={};!je&&O&1&&(je=!0,at.active=d[0].dropper,U(()=>je=!1)),N.$set(at)},i(d){de||(T(r.$$.fragment,d),T(i.$$.fragment,d),T(a.$$.fragment,d),T(c.$$.fragment,d),T(E.$$.fragment,d),T(N.$$.fragment,d),T(R.$$.fragment,d),de=!0)},o(d){D(r.$$.fragment,d),D(i.$$.fragment,d),D(a.$$.fragment,d),D(c.$$.fragment,d),D(E.$$.fragment,d),D(N.$$.fragment,d),D(R.$$.fragment,d),de=!1},d(d){d&&X(e),I(r),I(i),I(a),I(c),I(E),I(N),I(R)}}}function yn(n,e,t){let{selection:r}=e,s=!1;function o(){r.colour.a===0?(t(0,r.colour.a=255,r),t(1,s=!1)):(t(0,r.colour.a=0,r),t(1,s=!0)),t(0,r.dropper=!1,r)}function i(){t(0,r.dropper=!r.dropper,r),s&&(t(1,s=!1),t(0,r.colour.a=255,r))}function l(c){n.$$.not_equal(r.colour.r,c)&&(r.colour.r=c,t(0,r))}function u(c){n.$$.not_equal(r.colour.g,c)&&(r.colour.g=c,t(0,r))}function a(c){n.$$.not_equal(r.colour.b,c)&&(r.colour.b=c,t(0,r))}function h(c){s=c,t(1,s)}function y(c){n.$$.not_equal(r.dropper,c)&&(r.dropper=c,t(0,r))}function b(c){Jt.call(this,n,c)}return n.$$set=c=>{"selection"in c&&t(0,r=c.selection)},[r,s,o,i,l,u,a,h,y,b]}class vn extends te{constructor(e){super(),ee(this,e,yn,wn,V,{selection:0})}}function bn(n){let e,t,r,s,o,i,l,u,a;function h(m){n[4](m)}let y={canvasSize:n[2]};n[1]!==void 0&&(y.colourSelect=n[1]),r=new an({props:y}),A.push(()=>W(r,"colourSelect",h)),n[5](r);function b(m){n[6](m)}let c={};return n[1]!==void 0&&(c.selection=n[1]),l=new vn({props:c}),A.push(()=>W(l,"selection",b)),l.$on("createImage",n[3]),{c(){e=v("div"),t=v("div"),q(r.$$.fragment),o=L(),i=v("div"),q(l.$$.fragment),_(t,"class","flex-1"),_(i,"class","flex-1 my-auto"),_(e,"class","flex")},m(m,C){G(m,e,C),p(e,t),z(r,t,null),p(e,o),p(e,i),z(l,i,null),a=!0},p(m,[C]){const E={};!s&&C&2&&(s=!0,E.colourSelect=m[1],U(()=>s=!1)),r.$set(E);const Y={};!u&&C&2&&(u=!0,Y.selection=m[1],U(()=>u=!1)),l.$set(Y)},i(m){a||(T(r.$$.fragment,m),T(l.$$.fragment,m),a=!0)},o(m){D(r.$$.fragment,m),D(l.$$.fragment,m),a=!1},d(m){m&&X(e),n[5](null),I(r),I(l)}}}function xn(n,e,t){let r;const s={height:window.innerHeight,width:window.innerWidth*.75};let o={colour:{r:128,g:128,b:128,a:255},dropper:!1};function i(){r.createImage()}addEventListener("keypress",()=>{console.log(o)});function l(h){o=h,t(1,o)}function u(h){A[h?"unshift":"push"](()=>{r=h,t(0,r)})}function a(h){o=h,t(1,o)}return[r,o,s,i,l,u,a]}class $n extends te{constructor(e){super(),ee(this,e,xn,bn,V,{})}}new $n({target:document.getElementById("app")});
